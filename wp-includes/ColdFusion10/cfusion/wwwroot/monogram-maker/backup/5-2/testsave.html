<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <title> </title>

        <script src="js/jquery-2.1.0.js"></script>

        <!-- Bootstrap -->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-theme.min.css">

        <script src="bootstrap/js/bootstrap.min.js"></script>
        <!--additionalcss files -->
        <link rel="stylesheet" type="text/css" href="bootstrap/font_awesome/css/font-awesome.min.css">

        <!-- additional additional JS files for this page -->
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link href="css/Monograms.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" type="text/css" href="css/jquery-ui.css">

        <script src="js/jquery-2.1.0.js" type="text/javascript"></script>
        <script src="js/jquery.fontselect.js"></script>
        <script src="js/jquery-ui.js"></script> 
        <script src="js/fabric.min.js"></script>
        
        <script src="js/canvas-toBlob.js"></script>
<script src="js/FileSaver.js"></script>
    </head>

    <body>

        <canvas id="canvasFront"  width="720" height="400" style="border:3px solid grey;"></canvas>

        <textarea id="svgTextarea" name="svgTextarea" style="border:1px solid black; width: 400px; height:400px; "></textarea>
        <input type="button" id ="b" value="save as image">
        <script  language="javascript">

            var canvas = new fabric.Canvas('canvasFront');

            var svgUrl = "../Monogram/images/svg/a.svg";


            fabric.loadSVGFromURL(svgUrl, function (objects, options) {

                var loadedObject = fabric.util.groupSVGElements(objects, options);

                loadedObject.set({
                    left: 100,
                    top: 100
                })
                        .setCoords();

                canvas.add(loadedObject).renderAll();
            });
       
            
            //fabric.Image.fromURL('../Monogram/images/monograms/ScallopedCircleMonogram.png', function(img){
                  
     
                 //   canvas.add(img);
           // });

            var imgDownload = "myIMG.png";
            $("#b").click(function () {
                $("#canvasFront").get(0).toBlob(function (blob) {
                    saveAs(blob, imgDownload);
                });
            });



            //console.log(canvas.toSVG());

            var mydesign = canvas.toSVG();
            //console.log(mydesign);

            //$("#svgTextarea").html('<img src="'+img+'"/>');

            //console.log('canvas.toSVG ' + canvas.toSVG());
            //$("#svgTextarea").html(mydesign);
            
            $("#svgTextarea").html('<img src="'+imgDownload+'"/>');
             $("#svgTextarea").html(imgDownload);

        </script>


    </body>
</html>

